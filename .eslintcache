[{"/home/ubuntu/environment/tutorial-react-google-api-login/src/index.js":"1","/home/ubuntu/environment/tutorial-react-google-api-login/src/App.js":"2","/home/ubuntu/environment/tutorial-react-google-api-login/src/reportWebVitals.js":"3","/home/ubuntu/environment/tutorial-react-google-api-login/src/lib/GoogleLogin.js":"4"},{"size":503,"mtime":1611533312566,"results":"5","hashOfConfig":"6"},{"size":2341,"mtime":1611540060330,"results":"7","hashOfConfig":"6"},{"size":362,"mtime":1611207614708,"results":"8","hashOfConfig":"6"},{"size":689,"mtime":1611541192681,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"uaouwu",{"filePath":"13","messages":"14","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15","usedDeprecatedRules":"12"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/ubuntu/environment/tutorial-react-google-api-login/src/index.js",[],["20","21"],"/home/ubuntu/environment/tutorial-react-google-api-login/src/App.js",["22","23"],"import logo from './logo.svg';\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport { loadGoogleScript } from './lib/GoogleLogin';\nconst googleClientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction App() {\n  \n  const [gapi, setGapi] = useState();\n  const [googleAuth, setGoogleAuth] = useState();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [imageUrl, setImageUrl] = useState();\n  \n  const onSuccess = (googleUser) => {\n    setIsLoggedIn(true);\n    const profile = googleUser.getBasicProfile();\n    setName(profile.getName());\n    setEmail(profile.getEmail());\n    setImageUrl(profile.getImageUrl());\n  };\n  \n  const onFailure = () => {\n    setIsLoggedIn(false);\n  }\n  \n  const logOut = () => {\n    (async() => {\n      await googleAuth.signOut();\n      setIsLoggedIn(false);\n      renderSigninButton(gapi);\n    })();\n  };\n  \n  const renderSigninButton = (_gapi) => {\n    _gapi.signin2.render('google-signin', {\n      'scope': 'profile email',\n      'width': 240,\n      'height': 50,\n      'longtitle': true,\n      'theme': 'dark',\n      'onsuccess': onSuccess,\n      'onfailure': onFailure \n    });\n  }\n  \n  \n  useEffect(() => {\n    \n    //window.gapi is available at this point\n    window.onGoogleScriptLoad = () => {\n     \n      const _gapi = window.gapi;\n      setGapi(_gapi);\n      \n      _gapi.load('auth2', () => {\n        (async () => { \n          const _googleAuth = await _gapi.auth2.init({\n           client_id: googleClientId\n          });\n          setGoogleAuth(_googleAuth);\n          renderSigninButton(_gapi);\n        })();\n      });\n    }\n    \n    //ensure everything is set before loading the script\n    loadGoogleScript();\n    \n  }, []);\n  \n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        {!isLoggedIn &&\n          <div id=\"google-signin\"></div>\n        }\n        \n        {isLoggedIn &&\n          <div>\n            <div>\n              <img src={imageUrl} />\n            </div>\n            <div>{name}</div>\n            <div>{email}</div>\n            <button className='btn-primary' onClick={logOut}>Log Out</button>\n          </div>\n        }\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/home/ubuntu/environment/tutorial-react-google-api-login/src/reportWebVitals.js",[],"/home/ubuntu/environment/tutorial-react-google-api-login/src/lib/GoogleLogin.js",[],{"ruleId":"24","replacedBy":"25"},{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","severity":1,"message":"29","line":71,"column":6,"nodeType":"30","endLine":71,"endColumn":8,"suggestions":"31"},{"ruleId":"32","severity":1,"message":"33","line":85,"column":15,"nodeType":"34","endLine":85,"endColumn":37},"no-native-reassign",["35"],"no-negated-in-lhs",["36"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'renderSigninButton'. Either include it or remove the dependency array.","ArrayExpression",["37"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"38","fix":"39"},"Update the dependencies array to be: [renderSigninButton]",{"range":"40","text":"41"},[1778,1780],"[renderSigninButton]"]